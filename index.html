<!DOCTYPE html>
<html lang="eng">
    <head>
        <meta charset="UTF-8">
        <title>TOP Project: Rock, Paper, Scissors!</title>
    </head>

    <script>

        function game() {

            let playerChoice = prompt("What will you choose?");
            


            function getComputerChoice() {
                let word;
                const randomNumber = Math.random(); // Originally I defined this variable in the global scope, but decided to move it inside the local scope to avoid typing "randomNumber" inside the parentheses of "getComputerChoice()"

                if (randomNumber <= 0.35) {
                    let word = "ROCK";
                    return word;
                } else if (randomNumber > 0.35 && randomNumber <= 0.65) {
                    let word = "PAPER";
                    return word;
                } else if (randomNumber > 0.65) { //originally I did not include this condition and instead simply used "else"; however this allowed other unstated conditions to return "scissors" even when the value was not in the expected range
                    let word = "SCISSORS";
                    return word;
                } else {
                    return "ERROR!";
                }
            }
            


            function playRound(playerSelection, computerSelection) {
                if (playerSelection == "PAPER" && computerSelection == "ROCK") {
                    return "PLAYER WINS!";
                } else if (playerSelection == "PAPER" && computerSelection == "SCISSORS") {
                    return "Player loses";
                } else if (playerSelection == "ROCK" && computerSelection == "SCISSORS") {
                    return "PLAYER WINS!";
                } else if (playerSelection == "ROCK" && computerSelection == "PAPER") {
                    return "Player loses";
                } else if (playerSelection == "SCISSORS" && computerSelection == "PAPER") {
                    return "PLAYER WINS!";
                } else if (playerSelection == "SCISSORS" && computerSelection == "ROCK") {
                    return "Player loses";
                } else if (playerSelection == computerSelection) {
                    return "It's a draw";
                } else {
                    return "ERROR!"
                }
            }

            const playerSelection = playerChoice.toUpperCase();
            const computerSelection = getComputerChoice();
            const result = playRound(playerSelection, computerSelection);

            const PS = "Player has selected " + playerSelection;
            const CP = "Computer has selected " + computerSelection;

            return [PS, CP, result];

        }

        console.log(game());

        

    </script>
</html>